<div align="center" style="text-align: center">

<p style="text-align: center">
  <img align="center" src="https://camo.githubusercontent.com/40d00cefb120a829517e503658aaf6c987d5f9cc6be5e2e35fb20bd63bdbceb5/68747470733a2f2f7363726170792e6f72672f696d672f7363726170796c6f676f2e706e67" width="30%" height="100%">
  <img align="center" src="data:image/png;base64,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" width="30%" height="100%">
</p>

# MyAnimeList Crawler
This crawler can crawl all work information and reviews from `MyAnimeList` by using `Scrapy`.

</div>


## Usage

1. Ensure your settings in `./setting.ini`.
2. Install the required dependencies.

  ```bash
  pip install -r requirements.txt
  ```

## Usage

### Crawl Anime Infomation

```bash
scrapy runspider info_spider.py --nolog
```

- Example of crawling data
  ```json
    {
      "workId": "11979",
      "url": "https://myanimelist.net/anime/11979/Mahou_Shoujo_Madoka%E2%98%85Magica_Movie_2__Eien_no_Monogatari",
      "jpName": "劇場版 魔法少女まどか☆マギカ 永遠の物語",
      "engName": "Puella Magi Madoka Magica the Movie Part 2: Eternal",
      "synonymsName": "Mahou Shoujo Madoka Magika Movie 2, Magical Girl Madoka Magica Movie 2",
      "workType": "Movie",
      "episodes": "1",
      "status": "Finished Airing",
      "aired": "Oct 13, 2012",
      "premiered": "",
      "producer": "Aniplex, Mainichi Broadcasting System, Movic, Nitroplus, Houbunsha",
      "broadcast": "",
      "licensors": "Aniplex of America",
      "studios": "Shaft",
      "genres": "Drama",
      "source": "Original",
      "duration": "1 hr. 49 min.",
      "rating": "PG-13 - Teens 13 or older",
      "score": "8.37",
      "allRank": "#197",
      "popularityRank": "#1132",
      "members": "195,001",
      "favorites": "1,026",
      "scoredByUser": "97097",
      "lastUpdate": "2023-05-31 13:39:02"
  }
  ```

### Crawl Reviews

> Need crawl information of works at first because we need the list of Anime works in `myanimelist`.

```bash
scrapy runspider review_spider.py --nolog
```

## Link

The dataset is put on [Kaggle](https://www.kaggle.com/natlee/myanimelist-comment-dataset).

You can obtain the data from your SQLite database by using the following command.
```bash
python db_to_kaggle.py
```

## Misc

I recommend using [VisiData](https://www.visidata.org/) to see the SQLite database and the CSV files.

![](https://d33wubrfki0l68.cloudfront.net/a2039fda848c76b90ee0270854cd417a82bbd60e/0b350/img/woq9dm5llq-590.webp)

It can see details of the structured data in CLI.

Just use `sudo apt install VisiData` to get the package.

In our case, you can use `vd anime.db` to get a view with the SQLite database.

## Contributor

<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore-start -->
<!-- markdownlint-disable -->
<table>
  <tbody>
    <tr>
      <td align="center"><a href="https://github.com/NatLee"><img src="https://avatars.githubusercontent.com/u/10178964?v=3?s=100" width="100px;" alt="Nat Lee"/><br /><sub><b>Nat Lee</b></sub></a></td>
    </tr>
  </tbody>
</table>

<!-- markdownlint-restore -->
<!-- prettier-ignore-end -->

<!-- ALL-CONTRIBUTORS-LIST:END -->

## LICENSE

[MIT](LICENSE)


